(function(e){"use strict";function t(e){var t=0,n=e.length,r,i=!1,s=!1;while(!i&&t!==n)r=e[t]=e[t].trimLeft(),r&&(i=!0),t++;t=n-1;while(n&&!s&&t!==-1)r=e[t]=e[t].trimRight(),r&&(s=!0),t--;var o=/\s+$/g,u=!0;for(t=0;t!==n;t++)r=e[t].replace(/\s+/g," "),u&&(r=r.trimLeft()),r&&(u=o.test(r)),e[t]=r;return e}function n(e,t,n,r){return this.pdf=e,this.x=t,this.y=n,this.settings=r,this.init(),this}function r(e){var t,n=e.split(","),r=n.shift();while(!t&&r)t=f[r.trim().toLowerCase()],r=n.shift();return t}function i(e){var t,n=16,r=h[e];return r?r:(r={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[e],r!==t?h[e]=r/n:(r=parseFloat(e))?h[e]=r/n:(r=e.match(/([\d\.]+)(px)/),r.length===3?h[e]=parseFloat(r[1])/n:h[e]=1))}function s(e){var t=$(e),n={},s;return n["font-family"]=r(t.css("font-family"))||"times",n["font-style"]=c[t.css("font-style")]||"normal",s=l[t.css("font-weight")]||"normal",s==="bold"&&(n["font-style"]==="normal"?n["font-style"]=s:n["font-style"]=s+n["font-style"]),n["font-size"]=i(t.css("font-size"))||1,n["line-height"]=i(t.css("line-height"))||1,n.display=t.css("display")==="inline"?"inline":"block",n.display==="block"&&(n["margin-top"]=i(t.css("margin-top"))||0,n["margin-bottom"]=i(t.css("margin-bottom"))||0,n["padding-top"]=i(t.css("padding-top"))||0,n["padding-bottom"]=i(t.css("padding-bottom"))||0),n}function o(e,t,n){var r=!1,i,s,o,u=n["#"+e.id];if(u)if(typeof u=="function")r=u(e,t);else{i=0,s=u.length;while(!r&&i!==s)r=u[i](e,t),i++}u=n[e.nodeName];if(!r&&u)if(typeof u=="function")r=u(e,t);else{i=0,s=u.length;while(!r&&i!==s)r=u[i](e,t),i++}return r}function u(e,t,n){var r=e.childNodes,i,a=s(e),f=a.display==="block";f&&(t.setBlockBoundary(),t.setBlockStyle(a));for(var l=0,c=r.length;l<c;l++)i=r[l],typeof i=="object"?i.nodeType===1&&i.nodeName!="SCRIPT"?o(i,t,n)||u(i,t,n):i.nodeType===3&&t.addText(i.nodeValue,a):typeof i=="string"&&t.addText(i,a);f&&t.setBlockBoundary()}function a(e,t,r,i,s){typeof t=="string"&&(t=function(e){var t="jsPDFhtmlText"+Date.now().toString()+(Math.random()*1e3).toFixed(0),n="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",r=$('<div style="'+n+'">'+'<iframe style="height:1px;width:1px" name="'+t+'" />'+"</div>").appendTo(document.body),i=window.frames[t];return $(i.document.body).html(e)[0]}(t));var o=new n(e,r,i,s),a=u(t,o,s.elementHandlers);return o.dispose()}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),n.prototype.init=function(){this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},n.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y}},n.prototype.splitFragmentsIntoLines=function(e,t){var n=12,r=this.pdf.internal.scaleFactor,i={},s,o,u,a,f,l,c,h,p=[],d=[p],v=0,m=this.settings.width;while(e.length){a=e.shift(),f=t.shift();if(a){s=f["font-family"],o=f["font-style"],u=i[s+o],u||(u=this.pdf.internal.getFont(s,o).metadata.Unicode,i[s+o]=u),l={widths:u.widths,kerning:u.kerning,fontSize:f["font-size"]*n,textIndent:v},c=this.pdf.getStringUnitWidth(a,l)*l.fontSize/r;if(v+c>m){h=this.pdf.splitTextToSize(a,m,l),p.push([h.shift(),f]);while(h.length)p=[[h.shift(),f]],d.push(p);v=this.pdf.getStringUnitWidth(p[0][0],l)*l.fontSize/r}else p.push([a,f]),v+=c}}return d},n.prototype.RenderTextFragment=function(e,t){var n=12,r=this.pdf.internal.getFont(t["font-family"],t["font-style"]);this.pdf.internal.write("/"+r.id,(n*t["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(e)+") Tj")},n.prototype.renderParagraph=function(){var e=t(this.paragraph.text),n=this.paragraph.style,r=this.paragraph.blockstyle,i=this.paragraph.blockstyle||{};this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:r};if(!e.join("").trim())return;var s=this.splitFragmentsIntoLines(e,n),o,u,a=12,f=a/this.pdf.internal.scaleFactor,l=(Math.max((r["margin-top"]||0)-(i["margin-bottom"]||0),0)+(r["padding-top"]||0))*f,c=((r["margin-bottom"]||0)+(r["padding-bottom"]||0))*f,h=this.pdf.internal.write,p,d;this.y+=l,h("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");while(s.length){o=s.shift(),u=0;for(p=0,d=o.length;p!==d;p++)o[p][0].trim()&&(u=Math.max(u,o[p][1]["line-height"],o[p][1]["font-size"]));h(0,(-1*a*u).toFixed(2),"Td");for(p=0,d=o.length;p!==d;p++)o[p][0]&&this.RenderTextFragment(o[p][0],o[p][1]);this.y+=u*f}h("ET","Q"),this.y+=c},n.prototype.setBlockBoundary=function(){this.renderParagraph()},n.prototype.setBlockStyle=function(e){this.paragraph.blockstyle=e},n.prototype.addText=function(e,t){this.paragraph.text.push(e),this.paragraph.style.push(t)};var f={helvetica:"helvetica","sans-serif":"helvetica",serif:"times",times:"times","times new roman":"times",monospace:"courier",courier:"courier"},l={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},c={normal:"normal",italic:"italic",oblique:"italic"},h={normal:1};e.fromHTML=function(e,t,n,r){return a(this,e,t,n,r)}})(jsPDF.API)