// Generated by CoffeeScript 1.6.3
define(['core/sandbox', 'inventario/ManagerMenuMain', 'vendor/bootstrap-select'], function(sandbox, mod_menu, select) {
  var IniciarInventnario;
  return IniciarInventnario = {
    servicio_publico: null,
    servicio_particular: null,
    infraccion: null,
    accidente: null,
    accidenteInfraccion: null,
    resguardo: null,
    propiosMedios: null,
    grua: null,
    transito: null,
    rad_taxi: null,
    rad_urbano: null,
    rad_foraneo: null,
    rad_policia: null,
    rad_transito: null,
    rad_infraccion: null,
    rad_optInfraccion: null,
    rad_Accidente_infraccion: null,
    rad_resguardos: null,
    rad_ServicioPublico: null,
    rad_ServicioParticular: null,
    rad_propiosMedios: null,
    rad_grua: null,
    rad_Transiton: null,
    rad_accidente: null,
    rad_AccidenteInfraccion: null,
    rad_resguardo: null,
    formSubirFoto: null,
    formSubirInventarioFrente: null,
    formSubirInventarioPosterior: null,
    iniciar: function() {
      var that;
      that = this;
      this.sandbox = new sandbox(this);
      that.iniciarDate();
      this.sandbox.on('cargar-inventario-en-view', this.cargarInventarioEnView);
      this.sandbox.on('limpiar-view-inventario', this.cancelar);
      this.sandbox.on('guardar-inventario-server', this.guardarInventarioServer);
      this.sandbox.on('cargar-inventario-en-view-server', this.cargarInventarioServer);
      mod_menu.iniciar();
      this.establecerDefault();
      $('.selectpicker').selectpicker();
      this.servicio_particular = document.getElementById("radServicioParticular_inv");
      this.servicio_publico = document.getElementById("radServicioPublico_inv");
      this.infraccion = document.getElementById("optInfraccion_inv");
      this.accidenteInfraccion = document.getElementById("optAccidenteInfraccion_inv");
      this.resguardo = document.getElementById("resguardo_inv");
      this.propiosMedios = document.getElementById("propiosMedios_inv");
      this.grua = document.getElementById("grua_inv");
      this.transito = document.getElementById("deTransito");
      this.rad_infraccion = document.getElementById("optInfraccion_inv");
      this.rad_accidente = document.getElementById("optAccidente_inv");
      this.rad_AccidenteInfraccion = document.getElementById("optAccidenteInfraccion_inv");
      this.rad_resguardo = document.getElementById("resguardo_inv");
      this.rad_ServicioParticular = document.getElementById("radServicioParticular_inv");
      this.rad_ServicioPublico = document.getElementById("radServicioPublico_inv");
      this.rad_propiosMedios = document.getElementById("propiosMedios_inv");
      this.rad_grua = document.getElementById("grua_inv");
      this.rad_Transiton = document.getElementById("deTransito");
      this.rad_optInfraccion = document.getElementById("optInfraccion_inv");
      this.rad_AccidenteInfraccion = document.getElementById("optAccidenteInfraccion_inv");
      this.rad_resguardos = document.getElementById("resguardo_inv");
      $('#myTab a').click(function(e) {
        e.preventDefault();
        $(this).tab('show');
      });
      this.iniciarCalendario();
      this.marca_vehiculo = $("#marca_inv");
      this.marca_vehiculo.on('change', function(evento) {
        var valor;
        valor = $('#' + evento.currentTarget.id).val();
        window.actualizarSubMarcaValor(valor);
      });
      if (!window.inventario) {
        this.llenarDelegaciones();
        this.llenarComandancias();
        this.llenarTurnos();
        this.llenarCorporaciones();
        this.llenarCalles();
        this.llenarColonias();
        this.llenarPensiones();
        this.llenarCompetentes();
        this.llenarMps();
        this.llenarDescVehiculos();
        this.llenarMarcas();
        this.llenarModelos();
        this.llenarColores();
        this.llenarTipo();
        this.llenarLugares();
        this.llenarHoras();
        this.llenarMinutos();
        this.llenarPensionesPar();
        this.llenarProfiles();
        this.reiniciarInventario();
      } else {
        $.when($.ajax("/catalogos/delegaciones.json"), $.ajax("/catalogos/comandancias.json"), $.ajax("/catalogos/turnos.json"), $.ajax("/catalogos/corporaciones.json"), $.ajax("/catalogos/calles.json"), $.ajax("/catalogos/colonias.json"), $.ajax("/catalogos/pensiones.json"), $.ajax("/catalogos/aut_comp_inv.json"), $.ajax("/catalogos/mps.json"), $.ajax("/catalogos/descVehiculos.json"), $.ajax("/catalogos/marcas.json"), $.ajax("/catalogos/colores.json"), $.ajax("/catalogos/tipoVehiculo.json"), $.ajax("/catalogos/lugares.json"), $.ajax("/catalogos/listProfile.json")).done(function(delegaciones, comandancias, turnos, corporaciones, calles, colonias, pensiones, competentes, mps, descVehiculos, marcas, colores, tipos, lugares, profiles) {
          window.delegaciones = delegaciones[0];
          window.comandancias = comandancias[0];
          window.turnos = turnos[0];
          window.corporaciones = corporaciones[0];
          window.calles = calles[0];
          window.colonias = colonias[0];
          window.colores = colores[0];
          window.pensiones = pensiones[0];
          window.autCompInvs = competentes[0];
          window.mps = mps[0];
          window.descVehiculos = descVehiculos[0];
          window.marcas = marcas[0];
          window.tipos = tipos[0];
          window.lugares = lugares[0];
          window.profiles = profiles[0];
          that.llenarDelegaciones();
          that.llenarComandancias();
          that.llenarTurnos();
          that.llenarCorporaciones();
          that.llenarCalles();
          that.llenarColonias();
          that.llenarPensiones();
          that.llenarCompetentes();
          that.llenarMps();
          that.llenarDescVehiculos();
          that.llenarMarcas();
          that.llenarModelos();
          that.llenarColores();
          that.llenarTipo();
          that.llenarLugares();
          that.llenarHoras();
          that.llenarMinutos();
          that.llenarPensionesPar();
          that.cargarInventarioEnView();
          return that.llenarProfiles();
        });
      }
      $("#managerTipoServicioPublico_spa_inv_view").hide();
      $('#optInfraccion_inv').on('click', function(evento) {
        var obj;
        $("#folioInfraccion_inv").prop("disabled", false);
        $("#folioAccidente_inv").prop("disabled", false);
        obj = evento.currentTarget;
        if (obj.checked === true) {
          $("#folioAccidente_inv").prop("disabled", true);
          return that.cargarFoliosInfraccionCapturados();
        } else {
          return $("#folioAccidente_inv").prop("disabled", false);
        }
      });
      $('#optAccidenteInfraccion_inv').on('click', function(evento) {
        var obj;
        obj = evento.currentTarget;
        if (obj.checked === true) {
          that.cargarFoliosInfraccionCapturados();
          that.cargarFoliosAccidentesCapturados();
          $("#folioInfraccion_inv").prop("disabled", false);
          return $("#folioAccidente_inv").prop("disabled", false);
        }
      });
      $('#resguardo_inv').on('click', function(evento) {
        var obj;
        obj = evento.currentTarget;
        if (obj.checked === true) {
          $("#folioInfraccion_inv").prop("disabled", true);
          return $("#folioAccidente_inv").prop("disabled", true);
        } else {
          $("#folioInfraccion_inv").prop("disabled", false);
          return $("#folioAccidente_inv").prop("disabled", false);
        }
      });
      $('#cargar1').on("click", function() {
        return that.cargarInventarioEnView();
      });
      $('#cancelar').on('click', function() {
        return that.cancelar();
      });
      $('#guardarLocal').on('click', function() {
        return that.guardarInventarioLocal();
      });
      $('#guardar').on('click', function() {
        return that.sandbox.emit('guardar-inventario-server');
      });
      $(".trigger").click(function() {
        $(".panel").toggle("fast");
        $(this).toggleClass("active");
        return false;
      });
      this.formSubirFoto = $('#formSubirFotografia').ajaxForm({
        mod: that,
        beforeSubmit: function() {
          return $('#resultado_foto').html('Subiendo la foto');
        },
        success: function(data) {
          var id, nombre, sal;
          id = data.id;
          nombre = data.nombre;
          window.inventario.fotos.push(data);
          this.mod.refrescarFotos();
          sal = $('#resultado_foto');
          return sal.html('Se subio correctamente el archivo');
        }
      });
      this.formSubirInventarioFrente = $('#formSubirInventarioFrente').ajaxForm({
        mod: that,
        beforeSubmit: function() {
          return $('#resultado_inventario-frente').html('Subiendo el  el frente del inventario');
        },
        success: function(data) {
          var sal;
          console.log(data);
          window.inventario.frente = data;
          console.log(JSON.stringify(window.inventario));
          this.mod.refrescarFrente();
          sal = $('#resultado_croquis');
          return sal.html('Se subio correctamente la parte del frente');
        }
      });
      this.formSubirInventarioPosterior = $('#formSubirInventarioPosterior').ajaxForm({
        mod: that,
        beforeSubmit: function() {
          return $('#resultado_inventario-posterior').html('Subiendo el  posterior del inventario');
        },
        success: function(data) {
          var sal;
          window.inventario.posterior = data;
          this.mod.refrescarPosterior();
          sal = $('#resultado_croquis');
          return sal.html('Se subio correctamente la parte posterior');
        }
      });
      $('#subir_img-posterior').on("click", function() {
        return that.subirPosterior();
      });
      $('#subir_img-frente').on("click", function() {
        return that.subirFrente();
      });
      $('#subir_fotografia').on("click", function() {
        return that.subiFotografia();
      });
      $("#generar_reporte_pp").on("click", function() {
        return that.showSelReporte();
      });
    },
    showSelReporte: function() {
      var datos, that;
      that = this;
      this.actualizarAccidente();
      datos = {
        data: JSON.stringify(window.inventario)
      };
      $.ajax({
        type: "POST",
        url: '/inventario/ventana_reporte/',
        dataType: 'html',
        data: datos,
        success: function(res) {
          return that.showMensaje("Reporte para imprimir", res);
        }
      });
    },
    limpiarFrente: function() {
      var croquis, liga_frente;
      window.inventario.frente = "";
      croquis = $('#img-frente');
      liga_frente = $('#liga-img-frente');
      liga_frente.attr('title', 'ROJO');
      croquis.attr('src', '/static/img/crojo.jpg');
      liga_frente.attr('href', '/static/img/crojo.jpg');
      liga_frente.attr('data-gallery', 'data-gallery');
      return croquis.attr('alt', 'ROJO');
    },
    refrescarFrente: function() {
      var croquis, liga_frente;
      croquis = $('#img-frente');
      liga_frente = $('#liga-img-frente');
      croquis.attr('src', '/content/content/' + window.inventario.frente.id);
      liga_frente.attr('href', '/content/content/' + window.inventario.frente.id);
      return liga_frente.attr('data-gallery', 'data-gallery');
    },
    limpiarPosterior: function() {
      var croquis, liga_posterior;
      croquis = $('#img-posterior');
      liga_posterior = $('#liga-img-posterior');
      croquis.attr('src', '/static/img/crojo.jpg');
      liga_posterior.attr('href', '/static/img/crojo.jpg');
      liga_posterior.attr('title', 'ROJO');
      liga_posterior.attr('data-gallery', 'data-gallery');
      return croquis.attr('alt', 'ROJO');
    },
    refrescarPosterior: function() {
      var croquis, liga_posterior;
      croquis = $('#img-posterior');
      liga_posterior = $('#liga-img-posterior');
      croquis.attr('src', '/content/content/' + window.inventario.posterior.id);
      liga_posterior.attr('href', '/content/content/' + window.inventario.posterior.id);
      return liga_posterior.attr('data-gallery', 'data-gallery');
    },
    limpiarFotos: function() {
      var a, galeria, img;
      galeria = $('#links-fotos');
      galeria.html('');
      window.inventario.fotos = [];
      a = $('<a></a>');
      a.addClass("muestra-img");
      a.attr('href', '/static/img/crojo.jpg');
      a.attr('title', 'ROJO');
      a.attr('data-gallery', 'data-gallery');
      img = $('<img ></img>');
      img.attr('src', '/static/img/crojo.jpg');
      img.attr('alt', 'ROJO');
      a.append(img);
      return galeria.append(a);
    },
    refrescarFotos: function() {
      var a, foto, fotos, galeria, img, that, _i, _len;
      galeria = $('#links-fotos');
      galeria.html('');
      fotos = window.inventario.fotos;
      for (_i = 0, _len = fotos.length; _i < _len; _i++) {
        foto = fotos[_i];
        a = $('<a></a>');
        a.addClass("muestra-img");
        a.attr('href', '/content/content/' + foto.id);
        a.attr('title', foto.nombre);
        a.attr('data-gallery', 'data-gallery');
        img = $('<img></img>');
        img.attr('src', '/content/content/' + foto.id);
        img.attr('alt', foto.nombre);
        a.append(img);
        galeria.append(a);
      }
      ({
        cargarFoliosAccidentesCapturados: function() {}
      });
      this.url = '/accidente/folios_totales';
      that = this;
      return $.ajax({
        type: 'GET',
        url: that.url,
        success: function(data) {
          return $("#folioAccidente_inv").autocomplete({
            source: data
          });
        }
      });
    },
    cargarFoliosInfraccionCapturados: function() {
      var that;
      this.url = '/folios/folios_capturados';
      that = this;
      return $.ajax({
        type: 'GET',
        url: that.url,
        success: function(data) {
          return $("#folioInfraccion_inv").autocomplete({
            source: data,
            change: function(evento, ui) {
              var valor;
              valor = ui.item.value;
              return $.get('/infraccion/getInfraccion/' + valor + '/', function(data) {
                return that.llenarDatosDeInfraccion(data);
              });
            }
          });
        }
      });
    },
    llenarDatosDeInfraccion: function(infraccion) {
      var servicio;
      servicio = infraccion.servicio;
      if (servicio === "Servicio Particular") {
        this.servicio_particular.checked = true;
      } else {
        this.servicio_publico.checked = true;
      }
      $('#delegacion_inv').val(infraccion.delegacion);
      $('#comandancia_inv').val(infraccion.comandancia);
      $('#turno_inv').val(infraccion.turno);
      $('#calle1_inv').val(infraccion.Calle1);
      $('#calle2_inv').val(infraccion.Calle2);
      $('#exterior_inv').val(infraccion.frente_num);
      $('#colonia_inv').val(infraccion.colonia);
      $('#desc-vehiculo').val(infraccion.Clas_vehiculo);
      $('#marca_inv').val(infraccion.marca);
      $('#submarca_inv').val(infraccion.Submarca);
      $('#modelo_inv').val(infraccion.veh_modelo);
      $('#color_inv').val(infraccion.veh_color);
      $('#detalle_inv').val(infraccion.veh_color_detalle);
      $('#placas_inv').val(infraccion.veh_placas);
      $('#noEcon_inv').val(infraccion.numero_economico);
      $('#serie_inv').val(infraccion.veh_serie);
      return $('#tipoVehiculo_inv').val(infraccion.sp_tipo);
    },
    iniciarCalendario: function() {
      $('#fecha-incidente').datetimepicker({
        pickTime: false,
        language: 'es'
      });
      $('#fecha-entrada-inventario-append').datetimepicker({
        pickTime: false,
        language: 'es'
      });
      return $('#hora-entrada-inventario-append').datetimepicker({
        pickDate: false,
        language: 'es'
      });
    },
    iniciarGalerias: function() {
      return console.log("Hola mundo");
    },
    cargarInventarioServer: function(id) {
      var that;
      this.id = id;
      this.url = 'getInventario/' + this.id;
      that = this;
      return $.ajax({
        type: 'GET',
        url: that.url,
        success: function(data) {
          window.inventario = data[0];
          return that.cargarInventarioEnView();
        }
      });
    },
    showFieldError: function(item, msg) {
      var padre;
      padre = item.parents("div.control-group");
      padre.addClass('error');
      padre.children('.help-inline').html(msg);
      return item.focus();
    },
    showFieldSuccess: function(item) {
      var padre;
      padre = item.parents("div.control-group");
      padre.addClass('success');
      return padre.children('.help-inline').html('');
    },
    limpiarColorFields: function() {
      $(".control-group").removeClass('error');
      return $(".control-group").removeClass('success');
      /*formSubirFoto:null
      		formSubirInventarioFrente:null
      		formSubirInventarioPosterior:null
      */

    },
    subirFrente: function() {
      var that;
      that = this;
      $('input[name="id_unico"]').val($('#folio_inventa').val());
      this.formSubirInventarioFrente.submit();
    },
    subirPosterior: function() {
      var that;
      that = this;
      $('input[name="id_unico"]').val($('#folio_inventa').val());
      this.formSubirInventarioPosterior.submit();
    },
    subiFotografia: function() {
      var that;
      that = this;
      $('input[name="id_unico"]').val($('#folio_inventa').val());
      this.formSubirFoto.submit();
    },
    establecerDefault: function() {
      var that;
      that = this;
      $("#placas_default").on('click', function() {
        var placa;
        placa = $('#placas_inv').val();
        if (placa !== "") {
          return that.cargarVehiculo(placa);
        }
      });
      $("#noecon_default").on('click', function() {
        return $("#noEcon_inv").val("NO APLICA");
      });
      $("#serie_default").on('click', function() {
        return $("#serie_inv").val("NO APLICA");
      });
      $("#nombreConductor_inv_default").on('click', function() {
        return $("#nombreConductor_inv").val("NO APLICA");
      });
      $("#apellidoPaterno_inv_default").on('click', function() {
        return $("#apellidoPaterno_inv").val("NO APLICA");
      });
      return $("#apellidoMaterno_inv_default").on('click', function() {
        return $("#apellidoMaterno_inv").val("NO APLICA");
      });
    },
    validateFields: function() {
      var rr, that, val_calle1, val_calle2, val_colonia, val_marca, val_submarca;
      this.limpiarColorFields();
      that = this;
      if ($("#folio_inventa").val() === '') {
        this.showFieldError($("#folio_inventa"), "Debes elegir un folio");
        return false;
      } else {
        this.showFieldSuccess($("#folio_inventa"));
      }
      if (this.rad_optInfraccion.checked === false && this.rad_AccidenteInfraccion.checked === false && this.rad_resguardos.checked === false) {
        $("#optInfraccion_inv").parents("div.control-group").addClass("error");
        $("#msg-tipo-inventario").html('Debes elegir una opción');
        return false;
      } else {
        $("#optInfraccion_inv").parents("div.control-group").addClass("success");
        $("#msg-tipo-inventario").html('');
        if (this.rad_optInfraccion.checked === true) {
          if ($("#folioInfraccion_inv").val() === '') {
            this.showFieldError($("#folioInfraccion_inv"), "Debes elegir un folio");
            return false;
          } else {
            this.showFieldSuccess($("#folioInfraccion_inv"));
          }
        } else {
          if ($("#folioAccidente_inv").val() === '') {
            this.showFieldError($("#folioAccidente_inv"), "Debes elegir un folio");
            return false;
          } else {
            this.showFieldSuccess($("#folioAccidente_inv"));
          }
        }
      }
      if ($("#fechaIncidente_inv").val() === '') {
        this.showFieldError($("#fechaIncidente_inv"), "Es necesario elegir la fecha");
        return false;
      } else {
        this.showFieldSuccess($("#fechaIncidente_inv"));
      }
      if ($("#delegacion_inv").val() === 'NO') {
        this.showFieldError($("#delegacion_inv"), "Debes elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#delegacion_inv"));
      }
      if ($("#comandancia_inv").val() === 'NO') {
        this.showFieldError($("#comandancia_inv"), "Debes  elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#comandancia_inv"));
      }
      if ($("#turnos_inv").val() === 'NO') {
        this.showFieldError($("#turnos_inv"), "Debes elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#turnos_inv"));
      }
      if ($("#corporacion_inv").val() === 'NO') {
        this.showFieldError($("#corporacion_inv"), "Debes elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#corporacion_inv"));
      }
      val_calle1 = $('#calle1_inv').val();
      if (val_calle1 === '') {
        this.showFieldError($("#calle1_inv"), "Debes elegir una calle");
        return false;
      } else {
        rr = window.validateCalle(val_calle1);
        if (!rr.res) {
          this.showFieldError($("#calle1_inv"), rr.msg);
          return false;
        } else {
          this.showFieldSuccess($("#calle1_inv"));
        }
      }
      if ($("#exterior_inv").val() === '') {
        this.showFieldError($("#exterior_inv"), "Debes  elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#exterior_inv"));
      }
      if ($("#interior_inv").val() === '') {
        this.showFieldError($("#interior_inv"), "Debes  elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#interior_inv"));
      }
      val_calle2 = $('#calle2_inv').val();
      if (val_calle2 !== '') {
        rr = window.validateCalle(val_calle2);
      }
      if (!rr.res) {
        this.showFieldError($("#calle2_inv"), rr.msg);
        return false;
      } else {
        this.showFieldSuccess($("#calle2_inv"));
      }
      val_colonia = $('#colonia_inv').val();
      if (val_colonia === '') {
        this.showFieldError($("#colonia_inv"), "Debes elegir una colonia");
        return false;
      } else {
        rr = window.validateColonia(val_colonia);
        if (!rr.res) {
          this.showFieldError($("#colonia_inv"), rr.msg);
          return false;
        } else {
          this.showFieldSuccess($("#colonia_inv"));
        }
      }
      if ($("#depositadoEn_inv").val() === 'NO') {
        this.showFieldError($("#depositadoEn_inv"), "Debes  elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#depositadoEn_inv"));
      }
      if ($("#autoridadCompetente_inv").val() === 'NO') {
        this.showFieldError($("#autoridadCompetente_inv"), "Debes  elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#autoridadCompetente_inv"));
      }
      if ($("#mp_inv").val() === 'NO') {
        this.showFieldError($("#mp_inv"), "Debes  elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#mp_inv"));
      }
      if (this.rad_ServicioParticular.checked === false && this.rad_ServicioPublico.checked === false) {
        $("#radServicioParticular_inv").parents("div.control-group").addClass("error");
        $("#msg-tipo-inventario").html('Debes elegir una opción');
        return false;
      } else {
        $("#radServicioParticular_inv").parents("div.control-group").addClass("success");
        $("#msg-tipo-inventario").html('');
      }
      if ($("#desc-vehiculo").val() === 'NO') {
        this.showFieldError($("#desc-vehiculo"), "Debes  elegir una opcion");
        return false;
      } else {
        this.showFieldSuccess($("#desc-vehiculo"));
      }
      val_marca = $('#marca_inv').val();
      if ($('#marca_inv').val() === '') {
        this.showFieldError($("#marca_inv"), "Es necesario establecer la marca");
        return false;
      } else {
        rr = window.validateMarca(val_marca);
        if (!rr.res) {
          this.showFieldError($("#marca_inv"), rr.msg);
          return false;
        } else {
          this.showFieldSuccess($("#marca_inv"));
        }
      }
      val_submarca = $('#submarca_inv').val();
      if ($('#submarca_inv').val() === '') {
        this.showFieldError($("#submarca_inv"), "Es necesario establecer la submarca");
        return false;
      } else {
        rr = window.validateSubMarca(val_submarca);
        if (!rr.res) {
          this.showFieldError($("#submarca_inv"), rr.msg);
          return false;
        } else {
          this.showFieldSuccess($("#submarca_inv"));
        }
      }
      if ($("#modelo_inv").val() === 'NO') {
        this.showFieldError($("#modelo_inv"), "Debes  elegir el modelo");
        return false;
      } else {
        this.showFieldSuccess($("#modelo_inv"));
      }
      if ($("#color_inv").val() === 'NO') {
        this.showFieldError($("#color_inv"), "Debes  elegir el color");
        return false;
      } else {
        this.showFieldSuccess($("#color_inv"));
      }
      if ($("#detalle_inv").val() === '') {
        this.showFieldError($("#detalle_inv"), "Debes elegir el detalle");
        return false;
      } else {
        this.showFieldSuccess($("#detalle_inv"));
      }
      if ($("#placas_inv").val() === '') {
        this.showFieldError($("#placas_inv"), "Debes elegir el numero de las placas");
        return false;
      } else {
        this.showFieldSuccess($("#placas_inv"));
      }
      if ($("#noEcon_inv").val() === '') {
        this.showFieldError($("#noEcon_inv"), "Debes elegir noEcon");
        return false;
      } else {
        this.showFieldSuccess($("#noEcon_inv"));
      }
      if ($("#serie_inv").val() === '') {
        this.showFieldError($("#serie_inv"), "Debes elegir la serie");
        return false;
      } else {
        this.showFieldSuccess($("#serie_inv"));
      }
      if ($("#tipoVehiculo_inv").val() === 'NO') {
        this.showFieldError($("#tipoVehiculo_inv"), "Debes  elegir el tipo del vehiculo");
        return false;
      } else {
        this.showFieldSuccess($("#tipoVehiculo_inv"));
      }
      if ($("#nombreConductor_inv").val() === '') {
        this.showFieldError($("#nombreConductor_inv"), "Debes elegir el nombre");
        return false;
      } else {
        this.showFieldSuccess($("#nombreConductor_inv"));
      }
      if ($("#apellidoPaterno_inv").val() === '') {
        this.showFieldError($("#apellidoPaterno_inv"), "Debes elegir el apellido paterno");
        return false;
      } else {
        this.showFieldSuccess($("#apellidoPaterno_inv"));
      }
      if ($("#apellidoMaterno_inv").val() === '') {
        this.showFieldError($("#apellidoMaterno_inv"), "Debes elegir el appellido materno");
        return false;
      } else {
        this.showFieldSuccess($("#apellidoMaterno_inv"));
      }
      if ($("#lugar_inv").val() === 'NO') {
        this.showFieldError($("#lugar_inv"), "Debes  elegir el lugar");
        return false;
      } else {
        this.showFieldSuccess($("#lugar_inv"));
      }
      if ($("#fecha-entrada-inventario").val() === '') {
        this.showFieldError($("#fecha-entrada-inventario"), "Es necesario elegir la fecha");
        return false;
      } else {
        this.showFieldSuccess($("#fecha-entrada-inventario"));
      }
      if ($("#hora-entrada-inventario").val() === '') {
        this.showFieldError($("#hora-entrada-inventario"), "Es necesario elegir la hora");
        return false;
      } else {
        this.showFieldSuccess($("#hora-entrada-inventario"));
      }
      if ($("#recibidoPor_inv").val() === '') {
        this.showFieldError($("#recibidoPor_inv"), "Quien lo resibio");
        return false;
      } else {
        this.showFieldSuccess($("#recibidoPor_inv"));
      }
      if (this.rad_propiosMedios.checked === false && this.rad_grua.checked === false && this.rad_Transiton.checked === false) {
        $("#propiosMedios_inv").parents("div.control-group").addClass("error");
        $("#msg-tipo-inventario").html('Debes elegir una opción');
        return false;
      } else {
        $("#propiosMedios_inv").parents("div.control-group").addClass("success");
        $("#msg-tipo-inventario").html('');
      }
      if ($("#folio_agente").val() === '') {
        this.showFieldError($("#folio_agente"), "Debes elegir un folio");
        return false;
      } else {
        this.showFieldSuccess($("#folio_agente"));
      }
      if ($("#agente_inv").val() === '') {
        this.showFieldError($("#agente_inv"), "Debes elegir el agente");
        return false;
      } else {
        this.showFieldSuccess($("#agente_inv"));
      }
      return true;
    },
    guardarInventarioServer: function() {
      var datos, that;
      that = this;
      console.log(JSON.stringify(window.inventario));
      this.actualizarInventario();
      console.log(JSON.stringify(window.inventario));
      if (!this.validateFields()) {
        return;
      }
      datos = {
        data: JSON.stringify(window.inventario)
      };
      return $.ajax({
        type: "POST",
        url: '/inventario/crear',
        dataType: "json",
        data: datos,
        success: function(data) {
          var a, inventario, noticia;
          if (data.ERROR !== '' && data.ERROR !== void 0) {
            that.showMensaje("ERROR", data.ERROR);
            return;
          }
          a = new Date();
          inventario = window.inventario;
          noticia = {
            titulo: inventario.folio_de_inventario + "    " + inventario.calle1 + "   " + inventario.calle2 + "    " + inventario.colonia,
            noticia: "",
            tags: "INVENTARIO",
            archivos: "/static/fotos_subidas/foto.jpg",
            capturado_por: window.profile.nombre,
            fecha: a.format("%Y-%m-%d %H:%M:%S", true)
          };
          that.showMensaje("Mensaje de captura", 'Se guardo el inventario con numero de folio <span class="new-folio">' + inventario.folio_del_inventario + '</span> exitosamente!!!');
          return that.sandbox.emit('limpiar-view-inventario');
        },
        error: function(error) {
          return that.showMensajeError(error.responseText);
        }
      });
    },
    showMensaje: function(titulo, msg) {
      var $div;
      $div = $('#myModal .modal-body').html(msg);
      $("#myModal").modal('show');
      return $('#myModalLabel').html(titulo);
    },
    reiniciarInventario: function() {
      window.inventario = {};
      window.inventario.fotos = [];
    },
    guardarLocalInventarioServer: function() {
      var a_inventarios, id, inv_server, inventarios, obj;
      inv_server = sessionStorage.getItem('inventarios-server');
      id = window.inventario.folio_del_inventario;
      if (!inv_server) {
        inventarios = [];
        inventarios.push(id);
        obj = JSON.stringify(inventarios);
        sessionStorage.setItem('inventarios-server', obj);
        return this.sandbox.emit('update-menu-inventarios-server', inventarios);
      } else {
        a_inventarios = JSON.parse(inv_server);
        if (a_inventarios.length > 5) {
          a_inventarios.shift();
        }
        a_inventarios.push(id);
        obj = JSON.stringify(a_inventarios);
        sessionStorage.setItem('inventarios-server', obj);
        return this.sandbox.emit('update-menu-inventarios-server', a_inventarios);
      }
    },
    iniciarDate: function() {
      return Date.prototype.format = function(fstr, utc) {
        var pre, that;
        that = this;
        if (utc) {
          pre = 'getUTC';
        } else {
          pre = 'get';
        }
        return fstr.replace(/%[YmdHMS]/g, function(m) {
          switch (m) {
            case '%Y':
              return that[pre + 'FullYear']();
            case '%m':
              m = 1 + that[pre + 'Month']();
              break;
            case '%d':
              m = that[pre + 'Date']();
              break;
            case '%H':
              m = that[pre + 'Hours']();
              break;
            case '%M':
              m = that[pre + 'Minutes']();
              break;
            case '%S':
              m = that[pre + 'Seconds']();
              break;
            default:
              return m.slice(1);
          }
          return ('0' + m).slice(-2);
        });
      };
    },
    guardarInventarioLocal: function() {
      var a_inventarios, inv, inventarios, obj;
      this.actualizarInventario();
      inv = window.inventario;
      inventarios = sessionStorage.getItem('inventariosl');
      if (!inventarios) {
        inventarios = [];
        inventarios.push(inv);
        obj = JSON.stringify(inventarios);
        sessionStorage.setItem('inventariosl', obj);
        this.sandbox.emit('update-menu-inventarios-local', inventarios);
      } else {
        a_inventarios = JSON.parse(inventarios);
        if (a_inventarios.length > 5) {
          a_inventarios.shift();
        }
        this.agregarInventario(a_inventarios, inv);
        obj = JSON.stringify(a_inventarios);
        sessionStorage.setItem("inventariosl", obj);
        this.sandbox.emit('update-menu-inventarios-local', a_inventarios);
      }
      return this.sandbox.emit('limpiar-view-inventario');
    },
    agregarInventario: function(col, p_inf) {
      var ban, clone, i, indice, inf, _i, _len;
      clone = col.slice(0);
      ban = false;
      indice = 0;
      for (i = _i = 0, _len = clone.length; _i < _len; i = ++_i) {
        inf = clone[i];
        if (inf.folio_del_inventario === p_inf.folio_del_inventario) {
          indice = i;
          ban = true;
        }
      }
      if (ban) {
        col[indice] = p_inf;
      } else {
        col.push(p_inf);
      }
    },
    llenarDelegaciones: function() {
      var delegacion, opciones, sel, _i, _len, _ref;
      if (!window.delegaciones) {
        window.cargarDelegaciones(this.llenarDelegaciones);
      } else {
        sel = $('#delegacion_inv').html("");
        opciones = '<option value= "NO">**SELECCIONAR**</option>';
        console.log(window.delegaciones);
        _ref = window.delegaciones;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          delegacion = _ref[_i];
          opciones += '<option value="' + delegacion.delegacion + '">' + delegacion.delegacion + '</option>';
        }
        console.log(opciones);
        sel.append(opciones);
      }
    },
    llenarComandancias: function() {
      var comandancia, opciones, sel, _i, _len, _ref;
      if (!window.comandancias) {
        cargarComandancias(this.llenarComandancias);
      } else {
        sel = $('#comandancia_inv').html("");
        opciones = '<option value="NO">**SELECCIONAR**</option>';
        _ref = window.comandancias;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          comandancia = _ref[_i];
          opciones += '<option value="' + comandancia.comandancia + '">' + comandancia.comandancia + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarTurnos: function() {
      var opciones, sel, turno, _i, _len, _ref;
      if (!window.turnos) {
        return cargarTurnos(this.llenarTurnos);
      } else {
        sel = $('#turnos_inv').html("");
        opciones = '<option value="NO">**SELECCIONAR**</option>';
        _ref = window.turnos;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          turno = _ref[_i];
          opciones += '<option value="' + turno.turno + '">' + turno.turno + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarCorporaciones: function() {
      var corporacion, opciones, sel, _i, _len, _ref;
      if (!window.corporaciones) {
        return cargarCorporaciones(this.llenarCorporaciones);
      } else {
        sel = $('#corporacion_inv').html("");
        opciones = '<option value="NO">**SELECCIONAR**</option>';
        _ref = window.corporaciones;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          corporacion = _ref[_i];
          opciones += '<option value="' + corporacion.corporacion + '">' + corporacion.corporacion + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarCalles: function() {
      var item, nombres, _i, _len, _ref;
      if (!window.calles) {
        cargarCalles(this.llenarCalles);
      } else {
        nombres = [];
        _ref = window.calles;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          item = _ref[_i];
          nombres.push(item.calle);
        }
        $("#calle1_inv").autocomplete({
          source: nombres
        });
        $("#calle2_inv").autocomplete({
          source: nombres
        });
      }
    },
    llenarColonias: function() {
      var item, nombres, _i, _len, _ref;
      if (!window.colonias) {
        cargarColonias(this.llenarColonias);
      } else {
        nombres = [];
        _ref = window.colonias;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          item = _ref[_i];
          nombres.push(item.nombre);
        }
        $("#colonia_inv").autocomplete({
          source: nombres
        });
      }
    },
    llenarPensiones: function() {
      var opciones, pension, sel, _i, _len, _ref;
      if (!window.pensiones) {
        return cargarPensiones(this.llenarPensiones);
      } else {
        sel = $('#depositadoEn_inv').html("");
        opciones = '<option value="NO">**SELECCIONAR**</option>';
        _ref = window.pensiones;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          pension = _ref[_i];
          opciones += '<option value="' + pension.nombre_pension + '">' + pension.nombre_pension + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarCompetentes: function() {
      var competente, opciones, sel, _i, _len, _ref;
      if (!window.autCompInvs) {
        return cargarCompetentes(this.llenarCompetentes);
      } else {
        sel = $('#autoridadCompetente_inv').html("");
        opciones = '<option value="NO">**SELECCIONAR**</option>';
        _ref = window.autCompInvs;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          competente = _ref[_i];
          opciones += '<option value="' + competente.autoridad + '">' + competente.autoridad + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarMps: function() {
      var mp, opciones, sel, _i, _len, _ref;
      if (!window.mps) {
        return cargarMps(this.llenarMps);
      } else {
        sel = $('#mp_inv').html("");
        opciones = '<option value="NO">**SELECCIONAR**</option>';
        _ref = window.mps;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          mp = _ref[_i];
          opciones += '<option value="' + mp.agencia + '">' + mp.agencia + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarMarcas: function() {
      var a_marcas, marca, nombre, opciones, sel, _i, _j, _len, _len1, _ref, _ref1;
      if (!window.marcas) {
        cargarMarcas(this.llenarMarcas);
      } else {
        sel = $("#marca_inv").html("");
        opciones = '<option  value="NO">**SELECCIONAR**</option>';
        a_marcas = [];
        _ref = window.marcas;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          marca = _ref[_i];
          a_marcas[marca.marca] = 1;
        }
        _ref1 = _.keys(a_marcas);
        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
          nombre = _ref1[_j];
          opciones += '<option value="' + nombre + '">' + nombre + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarModelos: function() {
      var opciones, sel, x, _i;
      sel = $('#modelo_inv').html("");
      opciones = '<option  value="NO">**SELECCIONAR**</option>';
      for (x = _i = 1910; _i <= 2020; x = ++_i) {
        opciones += '<option value="' + x + '">' + x + '</option>';
      }
      opciones += '<option value="' + -1 + '">' + "SE DESCONOCE" + '</option>';
      sel.append(opciones);
    },
    llenarColores: function() {
      var color, opciones, sel, _i, _len, _ref;
      if (!window.colores) {
        return cargarColores(this.llenarColores);
      } else {
        sel = $('#color_inv').html("");
        opciones = '<option  value="NO">**SELECCIONAR**</option>';
        _ref = window.colores;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          color = _ref[_i];
          opciones += '<option value="' + color.color + '">' + color.color + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarProfiles: function() {
      var agente, agentes, list_cobro, that, _i, _len;
      that = this;
      if (!window.profiles) {
        return cargarProfiles(this.llenarProfiles);
      } else {
        list_cobro = [];
        agentes = window.profiles;
        for (_i = 0, _len = agentes.length; _i < _len; _i++) {
          agente = agentes[_i];
          list_cobro.push(agente.cobro);
        }
        return $("#folio_agente").autocomplete({
          source: list_cobro,
          change: function(evento, ui) {
            var p, _j, _len1, _ref, _results;
            _ref = window.profiles;
            _results = [];
            for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
              p = _ref[_j];
              if (p) {
                if (p.cobro === ui.item.value) {
                  _results.push($("#agente_inv").val(p.nombre));
                } else {
                  _results.push(void 0);
                }
              } else {
                _results.push(void 0);
              }
            }
            return _results;
          }
        });
      }
    },
    llenarDescVehiculos: function() {
      var item, opciones, sel, _i, _len, _ref;
      if (!window.descVehiculos) {
        cargarDescVehiculos(this.llenarDescVehiculos);
      } else {
        $("#desc-vehiculo").html('');
        sel = $("#desc-vehiculo");
        opciones = '<option  value="SEL">**SELECCIONAR**</option>';
        _ref = window.descVehiculos;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          item = _ref[_i];
          opciones += '<option value="' + item.descripcion + '">' + item.descripcion + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarTipo: function() {
      var opciones, sel, tipo, _i, _len, _ref;
      if (!window.tipos) {
        return cargarTipos(this.llenarTipo);
      } else {
        sel = $('#tipoVehiculo_inv').html("");
        opciones = '<option  value="NO">**SELECCIONAR**</option>';
        _ref = window.tipos;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          tipo = _ref[_i];
          opciones += '<option value="' + tipo.tipo + '">' + tipo.tipo + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarLugares: function() {
      var lugar, opciones, sel, _i, _len, _ref;
      if (!window.lugares) {
        return cargarLugares(this.llenarLugares);
      } else {
        sel = $('#lugar_inv').html("");
        opciones = '<option  value="NO">**SELECCIONAR**</option>';
        _ref = window.lugares;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          lugar = _ref[_i];
          opciones += '<option value="' + lugar.descripcion + '">' + lugar.descripcion + '</option>';
        }
        sel.append(opciones);
      }
    },
    llenarHoras: function() {
      var opciones, sel, x, _i;
      sel = $('#hora_inv').html("");
      opciones = '';
      for (x = _i = 1; _i <= 12; x = ++_i) {
        opciones += '<option value="' + x + '">' + x + '</option>';
      }
      opciones += '<option value="' + -1 + '">' + "SE DESCONOCE" + '</option>';
      sel.append(opciones);
    },
    llenarMinutos: function() {
      var opciones, sel, x, _i;
      sel = $('#minutos_inv').html("");
      opciones = '';
      for (x = _i = 1; _i <= 60; x = ++_i) {
        opciones += '<option value="' + x + '">' + x + '</option>';
      }
      opciones += '<option value="' + -1 + '">' + "SE DESCONOCE" + '</option>';
      sel.append(opciones);
    },
    llenarPensionesPar: function() {
      var opciones, pension, sel, _i, _len, _ref;
      if (!window.pensiones) {
        return cargarPensiones(this.llenarPensionesPar);
      } else {
        sel = $('#pensionPart_inv').html("");
        opciones = '<option  value="NO">**SELECCIONAR**</option>';
        _ref = window.pensiones;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          pension = _ref[_i];
          opciones += '<option value="' + pension.nombre_pension + '">' + pension.nombre_pension + '</option>';
        }
        return sel.append(opciones);
      }
    },
    cargarInventarioEnView: function() {
      var inv, that;
      that = this;
      inv = window.inventario;
      $('#folio_inventa').val(inv.folio_del_inventario);
      $('#delegacion_inv').val(inv.delegacion);
      $('#comandancia_inv').val(inv.comandancia);
      $('#turnos_inv').val(inv.turno);
      $('#corporacion_inv').val(inv.corporacion);
      $('#autoridadCompetente_inv').val(inv.autoridad_competente);
      if (inv.motivo_de_recojimiento === "Infraccion") {
        this.rad_infraccion.checked = true;
      } else if (inv.motivo_de_recojimiento === "Accidente o Infraccion") {
        this.rad_accidente_infraccion.checked = true;
      } else if (inv.motivo_de_recojimiento === "Resguardo") {
        this.rad_resguardo.checked = true;
      }
      $('#folioAccidente_inv').val(inv.folio_inventario);
      $('#folioInfraccion_inv').val(inv.folio_infraccion);
      $('#fechaIncidente_inv').val(inv.fecha_incidente);
      $('#calle1_inv').val(inv.calle1);
      $('#exterior_inv').val(inv.exterior);
      $('#interior_inv').val(inv.num_interior);
      $('#calle2_inv').val(inv.calle2);
      $('#colonia_inv').val(inv.colonia);
      $('#depositadoEn_inv').val(inv.depositado_en);
      $('#mp_inv').val(inv.mp);
      if (inv.tipo_servicio === 'Servicio Particular') {
        this.servicio_particular.checked = true;
      } else {
        this.servicio_publico.checked = true;
      }
      $('#marca_inv').val(inv.marca);
      window.actualizarSubMarcaValor(inv.marca);
      $('#submarca_inv').val(inv.submarca);
      $('#modelo_inv').val(inv.modelo);
      $('#color_inv').val(inv.color);
      $('#detalle_inv').val(inv.detalle);
      $('#placas_inv').val(inv.placas);
      $('#noEcon_inv').val(inv.no_econ);
      $('#serie_inv').val(inv.serie);
      $('#desc-vehiculo').val(inv.clas_vehiculo);
      $('#tipoVehiculo_inv').val(inv.tipoveh);
      $('#nombreConductor_inv').val(inv.conductor_nombre);
      $('#apellidoPaterno_inv').val(inv.apellido_paterno);
      $('#apellidoMaterno_inv').val(inv.apellido_materno);
      $('#lugar_inv').val(inv.lugar);
      $('#hora_inv').val(inv.hora);
      $('#fecha-entrada-inventario').val(inv.fecha_entrada);
      $('#hora-entrada-inventario').val(inv.hora_entrada);
      $('#recibidoPor_inv').val(inv.recibido_por);
      if (inv.vehiculo_transportado_por === "Propios Medios") {
        this.propiosMedios.checked = true;
        $('#pensionPart_inv').val('');
        $('#deTransito').val('');
      } else if (inv.vehiculo_transportado_por === "Grua Particular") {
        this.grua.checked = true;
        $('#pensionPart_inv').val(inv.vehiculo_transportado_pension);
        $('#deTransito').val(inv.vehiculo_transportado_unidad_transito);
      } else if (inv.vehiculo_transportado_por === "De Transito") {
        this.transito.checked = true;
        $('#pensionPart_inv').val('');
        $('#deTransito').val('');
      }
      $('#folio_agente').val(inv.folio_agente);
      $('#agente_inv').val(inv.nombre_agente);
    },
    cargarVehiculo: function(placa) {
      alert(placa);
      $.ajax({
        type: 'GET',
        url: '/infraccion/getHistVehiculo/' + placa + '/',
        success: function(data) {
          console.log(data);
          $('#marca_inv').val(data.marca);
          $('#submarca_inv').val(data.submarca);
          $('#modelo_inv').val(data.veh_modelo);
          $('#color_inv').val(data.veh_color);
          $('#detalle_inv').val(data.veh_color_detalle);
          $('#tipo_cv_spa_inf').val(data.sp_tipo);
          $('#serie_inv').val(data.veh_serie);
          $('#tipoVehiculo_inv').val(data.sp_tipo);
          $('#noEcon_inv').val(data.sp_no_economico);
          return alert('Elvia');
        },
        error: function(error) {
          return console.log(error);
        }
      });
    },
    cancelar: function() {
      this.servicio_particular.checked = false;
      this.servicio_publico.checked = false;
      $('#folio_inventa').val('');
      $('#optInfraccion_inv').val('');
      $('#optAccidenteInfraccion_inv').val('');
      $('#delegacion_inv').val('');
      $('#comandancia_inv').val('');
      $('#turnos_inv').val('');
      $('#extempo_inv').val('');
      $('#corporacion_inv').val('');
      this.infraccion.checked = false;
      this.accidenteInfraccion.checked = false;
      this.resguardo.checked = false;
      $('#folioInfraccion_inv').val('');
      $('#folioInventario_inv').val('');
      $('#folioAccidente_inv').val('');
      $('#fechaIncidente_inv').val('');
      $('#calle1_inv').val('');
      $('#exterior_inv').val('');
      $('#interior_inv').val('');
      $('#calle2_inv').val('');
      $('#colonia_inv').val('');
      $('#depositadoEn_inv').val('');
      $('#autoridadCompetente_inv').val('');
      $('#llaves_inv').val('');
      $('#mp_inv').val('');
      $('#desc-vehiculo').val('');
      $('#marca_inv').val('');
      $('#submarca_inv').val('');
      $('#modelo_inv').val('');
      $('#color_inv').val('');
      $('#detalle_inv').val('');
      $('#placas_inv').val('');
      $('#noEcon_inv').val('');
      $('#serie_inv').val('');
      $('#noVisible').val('');
      $('#tipoVehiculo_inv').val('');
      $('#nombreConductor_inv').val('');
      $('#apellidoPaterno_inv').val('');
      $('#apellidoMaterno_inv').val('');
      $('#pensionPart_inv').val('');
      $("#lugar_inv").val('');
      $('#fecha-entrada-inventario').val('');
      $('#hora-entrada-inventario').val('');
      $('#recibidoPor_inv').val('');
      $('#folio_agente').val('');
      $('#llevadoUnidad_inv').val('');
      $('#agente_inv').val('');
      $('#deTransito').val('');
      this.propiosMedios.checked = false;
      this.grua.checked = false;
      this.transito.checked = false;
      $('#pensionPart_inv').val('');
      this.limpiarFrente();
      this.limpiarPosterior();
      return this.limpiarFotos();
    },
    actualizarInventario: function() {
      var inventario;
      inventario = window.inventario;
      inventario.folio_del_inventario = $('#folio_inventa').val();
      inventario.delegacion = $('#delegacion_inv').val();
      if (this.servicio_particular.checked === true) {
        inventario.tipo_servicio = 'Servicio Particular';
      } else if (this.servicio_publico.checked === true) {
        inventario.tipo_servicio = "Servicio Publico";
      }
      inventario.comandancia = $('#comandancia_inv').val();
      inventario.turno = $('#turnos_inv').val();
      inventario.corporacion = $('#corporacion_inv').val();
      if (this.infraccion.checked === true) {
        inventario.motivo_de_recojimiento = 'Infraccion';
      } else if (this.accidenteInfraccion.checked === true) {
        inventario.motivo_de_recojimiento = 'Accidente o Infraccion';
      } else if (this.resguardo.checked === true) {
        inventario.motivo_de_recojimiento = 'Resguardo';
      }
      inventario.folio_infraccion = $('#folioInfraccion_inv').val();
      inventario.folio_accidente = $('#folioAccidente_inv').val();
      inventario.fecha_incidente = $('#fechaIncidente_inv').val();
      inventario.calle1 = $('#calle1_inv').val();
      inventario.exterior = $('#exterior_inv').val();
      inventario.num_interior = $('#interior_inv').val();
      inventario.calle2 = $('#calle2_inv').val();
      inventario.colonia = $('#colonia_inv').val();
      inventario.depositado_en = $('#depositadoEn_inv').val();
      inventario.autoridad_competente = $('#autoridadCompetente_inv').val();
      inventario.mp = $('#mp_inv').val();
      inventario.marca = $('#marca_inv').val();
      inventario.submarca = $('#submarca_inv').val();
      inventario.modelo = $('#modelo_inv').val();
      inventario.color = $('#color_inv').val();
      inventario.detalle = $('#detalle_inv').val();
      inventario.placas = $('#placas_inv').val();
      inventario.numero_economico = $('#noEcon_inv').val();
      inventario.serie = $('#serie_inv').val();
      inventario.clas_vehiculo = $('#desc-vehiculo').val();
      inventario.tipoveh = $('#tipoVehiculo_inv').val();
      inventario.conductor_nombre = $('#nombreConductor_inv').val();
      inventario.apellido_paterno = $('#apellidoPaterno_inv').val();
      inventario.apellido_materno = $('#apellidoMaterno_inv').val();
      inventario.lugar = $('#lugar_inv').val();
      inventario.fecha_entrada = $('#fecha-entrada-inventario').val();
      inventario.hora_entrada = $('#hora-entrada-inventario').val();
      inventario.recibido_por = $('#recibidoPor_inv').val();
      if (this.propiosMedios.checked === true) {
        inventario.vehiculo_transportado_por = 'Propios Medios';
        inventario.vehiculo_transportado_pension = '';
        inventario.vehiculo_transportado_unidad_transito = '';
      } else if (this.grua.checked === true) {
        inventario.vehiculo_transportado_por = "Grua Particular";
        inventario.vehiculo_transportado_pension = $('#pensionPart_inv').val();
        inventario.vehiculo_transportado_unidad_transito = '';
      } else if (this.transito.checked === true) {
        inventario.vehiculo_transportado_por = 'De Transito';
        inventario.vehiculo_transportado_pension = '';
        inventario.vehiculo_transportado_unidad_transito = $('#deTransito').val();
      }
      inventario.folio_agente = $('#folio_agente').val();
      inventario.nombre_agente = $('#agente_inv').val();
      inventario.usuario = window.profile.nombre;
    }
  };
});
