// Generated by CoffeeScript 1.6.3
$(".tree li:has(ul)").addClass("parent_li").find(" > span").attr("title", "Collapsa esta rama");

$(".tree li.parent_li > span").on("click", function(e) {
  var children;
  children = $(this).parent("li.parent_li").find(" > ul > li");
  if (children.is(":visible")) {
    children.hide("fast");
    $(this).attr("title", "Expnde esta rama").find(" > i").addClass("icon-plus-sign").removeClass("icon-minus-sign");
  } else {
    children.show("fast");
    $(this).attr("title", "Collapsa esta rama").find(" > i").addClass("icon-minus-sign").removeClass("icon-plus-sign");
  }
  return e.stopPropagation();
});

window.cargarDelegaciones = function(fn) {
  return $.ajax({
    type: 'GET',
    url: "/catalogos/delegaciones.json",
    success: function(data) {
      var collection, item, _i, _len;
      collection = [];
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        item = data[_i];
        collection.push(item);
      }
      window.delegaciones = collection;
      return fn();
    }
  });
};

window.cargarComandancias = function(fn) {
  return $.ajax({
    type: 'GET',
    url: "/catalogos/comandancias.json",
    success: function(data) {
      var collection, item, _i, _len;
      collection = [];
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        item = data[_i];
        collection.push(item);
      }
      window.comandancias = collection;
      return fn();
    }
  });
};

window.cargarTurnos = function(fn) {
  return $.ajax({
    type: 'GET',
    url: "/catalogos/turnos.json",
    success: function(data) {
      var collection, item, _i, _len;
      collection = [];
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        item = data[_i];
        collection.push(item);
      }
      window.turnos = collection;
      return fn();
    }
  });
};
