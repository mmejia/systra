// Generated by CoffeeScript 1.6.3
define(['infracciones/ManagerServicioParticularInf', 'infracciones/IniciarInfraccion'], function() {
  var app, modules;
  modules = Array.prototype.slice.call(arguments);
  app = {
    iniciar: function() {
      var module, that, _i, _len;
      this.llenarCatAgentes();
      this.iniciarCalendario();
      for (_i = 0, _len = modules.length; _i < _len; _i++) {
        module = modules[_i];
        module.iniciar();
      }
      that = this;
    },
    llenarCatAgentes: function() {
      var agente, nombre_agentes, str, _i, _len, _ref;
      if (!window.catAgentes) {
        cargarCatAgentes(this.llenarCatAgentes);
      } else {
        nombre_agentes = [];
        _ref = window.catAgentes;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          agente = _ref[_i];
          str = agente.no_nuevo + "--" + agente.nombre;
          nombre_agentes.push(str);
        }
      }
      $("#nombre-agente-inf").autocomplete({
        source: nombre_agentes,
        select: function(event, ui) {
          var her, item, _j, _len1, _ref1, _results;
          item = ui.item.value;
          her = item.split("--");
          _ref1 = window.catAgentes;
          _results = [];
          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
            agente = _ref1[_j];
            if ('' + agente.no_nuevo === her[0] && agente.nombre === her[1]) {
              _results.push($('#nom-cobro-agente-inf').val(agente.empleado));
            } else {
              _results.push(void 0);
            }
          }
          return _results;
        }
      });
    },
    iniciarCalendario: function() {}
  };
  return app;
});
