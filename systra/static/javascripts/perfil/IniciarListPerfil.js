// Generated by CoffeeScript 1.6.3
define(['core/sandbox', 'perfil/UpdatePerfil', 'perfil/CreatePerfil'], function(sandbox, updatePerfil, createPerfil) {
  var IniciarListPerfil;
  ({
    tpl_noticia: null
  });
  return IniciarListPerfil = {
    iniciar: function() {
      var that;
      that = this;
      this.sandbox = new sandbox(this);
      $(".editar-perfil").on('click', function(evento) {
        var her, id, ident;
        ident = evento.currentTarget.id;
        her = ident.split('_');
        id = her[1];
        return that.cargarPerfil(id);
      });
      return $("#captura-perfil").on('click', function(evento) {
        return that.cargarCapturaPerfil();
      });
    },
    cargarCapturaPerfil: function() {
      return $.ajax({
        type: "GET",
        url: '/perfil/capturar/',
        dataType: 'html',
        success: function(res) {
          $("#fichas-infracciones").html(res);
          return createPerfil.iniciar();
        }
      });
    },
    cargarPerfil: function(id) {
      return $.ajax({
        type: "GET",
        url: '/perfil/modificar/' + id + "/",
        dataType: 'html',
        success: function(res) {
          $("#fichas-infracciones").html(res);
          return updatePerfil.iniciar();
        }
      });
    }
  };
});
