// Generated by CoffeeScript 1.6.3
window.validateUnidad = function(dato) {
  var comp, unidad, unidades, _i, _len;
  if (!window.tbUnidades2008) {
    return cargarTbUnidades2008(this.validateUnidad(dato));
  } else {
    unidades = window.tbUnidades2008;
    for (_i = 0, _len = unidades.length; _i < _len; _i++) {
      unidad = unidades[_i];
      comp = unidad.no_unidad;
      if (dato === comp) {
        return {
          res: true,
          msg: ""
        };
      }
    }
    return {
      res: false,
      msg: "No se localizo la unidad que intervino"
    };
  }
};

window.validateAgente = function(dato) {
  var agente, agentes, comp, _i, _len;
  if (!window.catAgentes) {
    return cargarCatAgentes(this.llenarAgentes(dato));
  } else {
    agentes = window.catAgentes;
    for (_i = 0, _len = agentes.length; _i < _len; _i++) {
      agente = agentes[_i];
      comp = agente.num_cobro;
      if (dato === comp) {
        return {
          res: true,
          msg: ""
        };
      }
    }
    return {
      res: false,
      msg: "No se localizo al Agente que intervino"
    };
  }
};

window.validateCalle = function(dato) {
  var calle, calles, _i, _len;
  if (!window.calles) {
    return cargarCalles(this.validateCalle(dato));
  } else {
    calles = window.calles;
    for (_i = 0, _len = calles.length; _i < _len; _i++) {
      calle = calles[_i];
      if (dato === calle.calle) {
        return {
          res: true,
          msg: ""
        };
      }
    }
    return {
      res: false,
      msg: "No se localizo la calle, selecciona una valida"
    };
  }
};

window.validateColonia = function(dato) {
  var colonia, colonias, _i, _len;
  if (!window.colonias) {
    return cargarColonias(this.validateColonia(dato));
  } else {
    colonias = window.colonias;
    for (_i = 0, _len = colonias.length; _i < _len; _i++) {
      colonia = colonias[_i];
      if (dato === colonia.nombre) {
        return {
          res: true,
          msg: ""
        };
      }
    }
    return {
      res: false,
      msg: "No se localizo la colonia, selecciona una valida"
    };
  }
};

window.validateInt = function(valor, min, max) {
  if (min == null) {
    min = 0;
  }
  if (max == null) {
    max = Number.MAX_VALUE;
  }
  if ($.isNumeric(valor)) {
    return {
      res: true,
      msg: ""
    };
  } else {
    return {
      res: false,
      msg: "El valor no es numerico"
    };
  }
  if (valor < min && valor > max) {
    return {
      res: false,
      msg: "Debes de estar el valor entre " + min + y(" " + max)
    };
  } else {
    return {
      res: true,
      msg: ""
    };
  }
};

window.actualizarComandanciaValor = function(valor) {
  var col, comandancia, _i, _len, _ref;
  col = [];
  _ref = window.comandancias;
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    comandancia = _ref[_i];
    if (comandancia.delegacion === valor) {
      col.push(comandancia);
    }
  }
  window.actualizarSelectComandancia(col);
};

window.actualizarComandancia = function() {
  var col, comandancia, valor, _i, _len, _ref;
  console.log(window.comandancias);
  if (!window.comandancias) {
    window.cargarComandancias(window.actualizarComandancia);
  } else {
    col = [];
    valor = $("#delegacion_pre option:first").val();
    _ref = window.comandancias;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      comandancia = _ref[_i];
      if (comandancia.delegacion === valor) {
        col.push(comandancia);
      }
    }
    window.actualizarSelectComandancia(col);
  }
};

window.actualizarSelectComandancia = function(comandancias) {
  var comandancia, ctl_comandancia, opciones, _i, _len;
  ctl_comandancia = $('#comandancia_pre');
  ctl_comandancia.html('');
  opciones = '<option  value="NO">**SELECCIONAR**</option>';
  for (_i = 0, _len = comandancias.length; _i < _len; _i++) {
    comandancia = comandancias[_i];
    opciones += '<option value="' + comandancia.comandancia + '">' + comandancia.comandancia + '</option>';
  }
  ctl_comandancia.append(opciones);
};

window.cargarComandancias = function(fn) {
  return $.ajax({
    type: 'GET',
    url: "/catalogos/comandancias.json",
    success: function(data) {
      var collection, item, _i, _len;
      collection = [];
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        item = data[_i];
        collection.push(item);
      }
      window.comandancias = collection;
      return fn();
    }
  });
};

window.cargarProfiles = function(fn) {
  return $.ajax({
    type: 'GET',
    url: '/catalogos/listProfile.json',
    success: function(data) {
      var collection, item, _i, _len;
      collection = [];
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        item = data[_i];
        collection.push(item);
      }
      window.profiles = collection;
      fn();
    }
  });
};
